var e,t,fuseOptions,searchQuery;e=this,t=function(){"use strict";var M,L,y,I,a,ac,n,x,e,O,P,Q,F,S,T,s,v,q,E,Y,_,$,l,m,C,z,K,p,R,V,r,k;function ae(a){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ab(d,c){for(var b=0,a;b<c.length;b++)a=c[b],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}function c(a,b,c){return b&&ab(a.prototype,b),c&&ab(a,c),a}function t(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function aa(a,d){var b=Object.keys(a),c;return Object.getOwnPropertySymbols&&(c=Object.getOwnPropertySymbols(a),d&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),b.push.apply(b,c)),b}function Z(c){for(var a=1,b;a<arguments.length;a++)b=null!=arguments[a]?arguments[a]:{},a%2?aa(Object(b),!0).forEach(function(a){t(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):aa(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))});return c}function j(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&X(b,a)}function B(a){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function X(a,b){return(X=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function aj(b,a){return!a||"object"!=typeof a&&"function"!=typeof a?function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(b):a}function h(a){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}();return function(){var c,d=B(a),e;return b?(e=B(this).constructor,c=Reflect.construct(d,arguments,e)):c=d.apply(this,arguments),aj(this,c)}}function i(a){return function(a){if(Array.isArray(a))return A(a)}(a)||function(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}(a)||function(a,c){if(a){if("string"==typeof a)return A(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);return"Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b?Array.from(a):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?A(a,c):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function g(a){return Array.isArray?Array.isArray(a):"[object Array]"===J(a)}function f(a){return"string"==typeof a}function W(a){return"number"==typeof a}function ai(a){return!0===a||!1===a||function(a){return U(a)&&null!==a}(a)&&"[object Boolean]"==J(a)}function U(a){return"object"===ae(a)}function d(a){return null!=a}function u(a){return!a.trim().length}function J(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}M=function(a){return"Invalid value for key ".concat(a)},L=function(a){return"Pattern length exceeds max of ".concat(a,".")},y=Object.prototype.hasOwnProperty,I=function(){function a(e){var d=this,c;b(this,a),this._keys=[],this._keyMap={},c=0,e.forEach(function(b){var a=ad(b);c+=a.weight,d._keys.push(a),d._keyMap[a.id]=a,c+=a.weight}),this._keys.forEach(function(a){a.weight/=c})}return c(a,[{key:"get",value:function(a){return this._keyMap[a]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),a}();function ad(a){var c=null,d=null,e=null,h=1,b;if(f(a)||g(a))e=a,c=G(a),d=D(a);else{if(!y.call(a,"name"))throw new Error(function(a){return"Missing ".concat(a," property in key")}("name"));if(b=a.name,e=b,y.call(a,"weight")&&(h=a.weight)<=0)throw new Error(function(a){return"Property 'weight' in key '".concat(a,"' must be a positive integer")}(b));c=G(b),d=D(b)}return{path:c,id:d,weight:h,src:e}}function G(a){return g(a)?a:a.split(".")}function D(a){return g(a)?a.join("."):a}a=Z({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(a,b){return a.score===b.score?a.idx<b.idx?-1:1:a.score<b.score?-1:1}},{},{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},{},{location:0,threshold:.6,distance:100},{},{useExtendedSearch:!1,getFn:function(e,b){var a=[],c=!1;return function k(j,e,h){var b,i,l;if(d(j))if(e[h]){if(b=j[e[h]],!d(b))return;if(h===e.length-1&&(f(b)||W(b)||ai(b)))a.push(function(a){return null==a?"":function(a){if("string"==typeof a)return a;var b=a+"";return"0"==b&&1/a==-1/0?"-0":b}(a)}(b));else if(g(b)){c=!0;for(i=0,l=b.length;i<l;i+=1)k(b[i],e,h+1)}else e.length&&k(b,e,h+1)}else a.push(j)}(e,f(b)?b.split("."):b,0),c?a:a[0]},ignoreLocation:!1,ignoreFieldNorm:!1}),ac=/[^ ]+/g;function ah(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,a=new Map,b=Math.pow(10,c);return{get:function(e){var c=e.match(ac).length,f,d;return a.has(c)?a.get(c):(f=1/Math.sqrt(c),d=parseFloat(Math.round(f*b)/b),a.set(c,d),d)},clear:function(){a.clear()}}}n=function(){function e(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=d.getFn,f=void 0===c?a.getFn:c;b(this,e),this.norm=ah(3),this.getFn=f,this.isCreated=!1,this.setIndexRecords()}return c(e,[{key:"setSources",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=a}},{key:"setIndexRecords",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=a}},{key:"setKeys",value:function(){var b=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=a,this._keysMap={},a.forEach(function(a,c){b._keysMap[a.id]=c})}},{key:"create",value:function(){var a=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,f(this.docs[0])?this.docs.forEach(function(b,c){a._addString(b,c)}):this.docs.forEach(function(b,c){a._addObject(b,c)}),this.norm.clear())}},{key:"add",value:function(a){var b=this.size();f(a)?this._addString(a,b):this._addObject(a,b)}},{key:"removeAt",value:function(b){this.records.splice(b,1);for(var a=b,c=this.size();a<c;a+=1)this.records[a].i-=1}},{key:"getValueForItemAtKeyId",value:function(a,b){return a[this._keysMap[b]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(a,b){if(d(a)&&!u(a)){var c={v:a,i:b,n:this.norm.get(a)};this.records.push(c)}}},{key:"_addObject",value:function(c,e){var a=this,b={i:e,$:{}};this.keys.forEach(function(i,h){var e=a.getFn(c,i.path),j;d(e)&&(g(e)?!function(){for(var j=[],i=[{nestedArrIndex:-1,value:e}],k,l,c,m;i.length;)k=i.pop(),l=k.nestedArrIndex,c=k.value,d(c)&&(f(c)&&!u(c)?(m={v:c,i:l,n:a.norm.get(c)},j.push(m)):g(c)&&c.forEach(function(a,b){i.push({nestedArrIndex:b,value:a})}));b.$[h]=j}():u(e)||(j={v:e,n:a.norm.get(e)},b.$[h]=j))}),this.records.push(b)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function H(d,e){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=f.getFn,g=void 0===c?a.getFn:c,b=new n({getFn:g});return b.setKeys(d.map(ad)),b.setSources(e),b.create(),b}function o(o){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=b.errors,n=void 0===e?0:e,f=b.currentLocation,l=void 0===f?0:f,h=b.expectedLocation,k=void 0===h?0:h,j=b.distance,d=void 0===j?a.distance:j,g=b.ignoreLocation,m=void 0===g?a.ignoreLocation:g,c=n/o.length,i;return m?c:(i=Math.abs(k-l),d?c+i/d:i?1:c)}function ag(){for(var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.minMatchCharLength,e=[],b=-1,g=-1,c=0,i=d.length,h;c<i;c+=1)h=d[c],h&&-1===b?b=c:h||-1===b||((g=c-1)-b+1>=f&&e.push([b,g]),b=-1);return d[c-1]&&c-b>=f&&e.push([b,c-1]),e}function af(c){for(var b={},a=0,d=c.length,e;a<d;a+=1)e=c.charAt(a),b[e]=(b[e]||0)|1<<d-a-1;return b}x=function(){function d(p){var z=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=c.location,y=void 0===j?a.location:j,i=c.threshold,x=void 0===i?a.threshold:i,k=c.distance,w=void 0===k?a.distance:k,m=c.includeMatches,u=void 0===m?a.includeMatches:m,o=c.findAllMatches,B=void 0===o?a.findAllMatches:o,q=c.minMatchCharLength,t=void 0===q?a.minMatchCharLength:q,h=c.isCaseSensitive,r=void 0===h?a.isCaseSensitive:h,n=c.ignoreLocation,v=void 0===n?a.ignoreLocation:n,g,f,e,l,A,s;if(b(this,d),this.options={location:y,threshold:x,distance:w,includeMatches:u,findAllMatches:B,minMatchCharLength:t,isCaseSensitive:r,ignoreLocation:v},this.pattern=r?p:p.toLowerCase(),this.chunks=[],this.pattern.length)if(g=function(a,b){z.chunks.push({pattern:a,alphabet:af(a),startIndex:b})},f=this.pattern.length,f>32){for(e=0,l=f%32,A=f-l;e<A;)g(this.pattern.substr(e,32),e),e+=32;l&&(s=f-32,g(this.pattern.substr(s),s))}else g(this.pattern,0)}return c(d,[{key:"searchIn",value:function(c){var j=this.options,r=j.isCaseSensitive,f=j.includeMatches,g,b,q,p,s,l,m,n,e,h,d,k;return r||(c=c.toLowerCase()),this.pattern===c?(g={isMatch:!0,score:0},f&&(g.indices=[[0,c.length-1]]),g):(b=this.options,q=b.location,p=b.distance,s=b.threshold,l=b.findAllMatches,m=b.minMatchCharLength,n=b.ignoreLocation,e=[],h=0,d=!1,this.chunks.forEach(function(b){var v=b.pattern,r=b.alphabet,t=b.startIndex,g=function(x,g,R){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},E=f.location,Q=void 0===E?a.location:E,J=f.distance,q=void 0===J?a.distance:J,I=f.threshold,V=void 0===I?a.threshold:I,N=f.findAllMatches,U=void 0===N?a.findAllMatches:N,D=f.minMatchCharLength,F=void 0===D?a.minMatchCharLength:D,G=f.includeMatches,H=void 0===G?a.includeMatches:G,M=f.ignoreLocation,u=void 0===M?a.ignoreLocation:M,t,j,l,b,k,h,n,v,S,z,p,y,m,P,e,r,d,O,B,w,i,c,s,C,T,A,K;if(g.length>32)throw new Error(L(32));for(t,j=g.length,l=x.length,b=Math.max(0,Math.min(Q,l)),k=V,h=b,n=F>1||H,v=n?Array(l):[];(t=x.indexOf(g,h))>-1;)if(S=o(g,{currentLocation:t,expectedLocation:b,distance:q,ignoreLocation:u}),k=Math.min(S,k),h=t+j,n)for(z=0;z<j;)v[t+z]=1,z+=1;h=-1;for(p=[],y=1,m=j+l,P=1<<j-1,e=0;e<j;e+=1){for(r=0,d=m;r<d;)O=o(g,{errors:e,currentLocation:b+d,expectedLocation:b,distance:q,ignoreLocation:u}),O<=k?r=d:m=d,d=Math.floor((m-r)/2+r);m=d,B=Math.max(1,b-d+1),w=U?l:Math.min(b+d,l)+j,i=Array(w+2),i[w+1]=(1<<e)-1;for(c=w;c>=B;c-=1)if(s=c-1,C=R[x.charAt(s)],n&&(v[s]=+!!C),i[c]=(i[c+1]<<1|1)&C,e&&(i[c]|=(p[c+1]|p[c])<<1|1|p[c+1]),i[c]&P&&(y=o(g,{errors:e,currentLocation:s,expectedLocation:b,distance:q,ignoreLocation:u}))<=k){if(k=y,(h=s)<=b)break;B=Math.max(1,2*b-h)}if(T=o(g,{errors:e+1,currentLocation:b,expectedLocation:b,distance:q,ignoreLocation:u}),T>k)break;p=i}return A={isMatch:h>=0,score:Math.max(.001,y)},n&&(K=ag(v,F),K.length?H&&(A.indices=K):A.isMatch=!1),A}(c,v,r,{location:q+t,distance:p,threshold:s,findAllMatches:l,minMatchCharLength:m,includeMatches:f,ignoreLocation:n}),k=g.isMatch,u=g.score,j=g.indices;k&&(d=!0),h+=u,k&&j&&(e=[].concat(i(e),i(j)))}),k={isMatch:d,score:d?h/this.chunks.length:1},d&&f&&(k.indices=e),k)}}]),d}(),e=function(){function a(c){b(this,a),this.pattern=c}return c(a,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(a){return N(a,this.multiRegex)}},{key:"isSingleMatch",value:function(a){return N(a,this.singleRegex)}}]),a}();function N(b,c){var a=b.match(c);return a?a[1]:null}O=function(d){j(a,d);var e=h(a);function a(c){return b(this,a),e.call(this,c)}return c(a,[{key:"search",value:function(b){var a=b===this.pattern;return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),a}(e),P=function(d){j(a,d);var e=h(a);function a(c){return b(this,a),e.call(this,c)}return c(a,[{key:"search",value:function(a){var b=-1===a.indexOf(this.pattern);return{isMatch:b,score:b?0:1,indices:[0,a.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),a}(e),Q=function(d){j(a,d);var e=h(a);function a(c){return b(this,a),e.call(this,c)}return c(a,[{key:"search",value:function(b){var a=b.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),a}(e),F=function(d){j(a,d);var e=h(a);function a(c){return b(this,a),e.call(this,c)}return c(a,[{key:"search",value:function(a){var b=!a.startsWith(this.pattern);return{isMatch:b,score:b?0:1,indices:[0,a.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),a}(e),S=function(d){j(a,d);var e=h(a);function a(c){return b(this,a),e.call(this,c)}return c(a,[{key:"search",value:function(a){var b=a.endsWith(this.pattern);return{isMatch:b,score:b?0:1,indices:[a.length-this.pattern.length,a.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),a}(e),T=function(d){j(a,d);var e=h(a);function a(c){return b(this,a),e.call(this,c)}return c(a,[{key:"search",value:function(a){var b=!a.endsWith(this.pattern);return{isMatch:b,score:b?0:1,indices:[0,a.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),a}(e),s=function(e){j(d,e);var f=h(d);function d(o){var g,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=c.location,v=void 0===h?a.location:h,j=c.threshold,t=void 0===j?a.threshold:j,l=c.distance,r=void 0===l?a.distance:l,n=c.includeMatches,p=void 0===n?a.includeMatches:n,e=c.findAllMatches,q=void 0===e?a.findAllMatches:e,m=c.minMatchCharLength,s=void 0===m?a.minMatchCharLength:m,k=c.isCaseSensitive,u=void 0===k?a.isCaseSensitive:k,i=c.ignoreLocation,w=void 0===i?a.ignoreLocation:i;return b(this,d),(g=f.call(this,o))._bitapSearch=new x(o,{location:v,threshold:t,distance:r,includeMatches:p,findAllMatches:q,minMatchCharLength:s,isCaseSensitive:u,ignoreLocation:w}),g}return c(d,[{key:"search",value:function(a){return this._bitapSearch.searchIn(a)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),d}(e),v=function(d){j(a,d);var e=h(a);function a(c){return b(this,a),e.call(this,c)}return c(a,[{key:"search",value:function(e){for(var a,b=0,c=[],f=this.pattern.length,d;(a=e.indexOf(this.pattern,b))>-1;)b=a+f,c.push([a,b-1]);return d=!!c.length,{isMatch:d,score:d?0:1,indices:c}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),a}(e),q=[O,v,Q,F,T,S,P,s],E=q.length,Y=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;function ao(b){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b.split("|").map(function(l){for(var h=l.trim().split(Y).filter(function(a){return a&&!!a.trim()}),d=[],e=0,m=h.length,g,c,b,i,j,f,k;e<m;e+=1){for(g=h[e],c=!1,b=-1;!c&&++b<E;)i=q[b],j=i.isMultiMatch(g),j&&(d.push(new i(j,a)),c=!0);if(!c)for(b=-1;++b<E;)if(f=q[b],k=f.isSingleMatch(g),k){d.push(new f(k,a));break}}return d})}_=new Set([s.type,v.type]),$=function(){function d(m){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=c.isCaseSensitive,g=void 0===f?a.isCaseSensitive:f,h=c.includeMatches,t=void 0===h?a.includeMatches:h,j=c.minMatchCharLength,r=void 0===j?a.minMatchCharLength:j,l=c.ignoreLocation,o=void 0===l?a.ignoreLocation:l,n=c.findAllMatches,p=void 0===n?a.findAllMatches:n,e=c.location,q=void 0===e?a.location:e,k=c.threshold,s=void 0===k?a.threshold:k,i=c.distance,u=void 0===i?a.distance:i;b(this,d),this.query=null,this.options={isCaseSensitive:g,includeMatches:t,minMatchCharLength:r,findAllMatches:p,ignoreLocation:o,location:q,threshold:s,distance:u},this.pattern=g?m:m.toLowerCase(),this.query=ao(this.pattern,this.options)}return c(d,[{key:"searchIn",value:function(c){var e=this.query,j,m,b,a,d,f,r,n,g,p,k,h,q,l,s,t,o;if(!e)return{isMatch:!1,score:1};j=this.options,m=j.includeMatches,c=j.isCaseSensitive?c:c.toLowerCase();for(b=0,a=[],d=0,f=0,r=e.length;f<r;f+=1){n=e[f],a.length=0,b=0;for(g=0,p=n.length;g<p;g+=1){if(k=n[g],h=k.search(c),q=h.isMatch,l=h.indices,s=h.score,!q){d=0,b=0,a.length=0;break}b+=1,d+=s,m&&(t=k.constructor.type,_.has(t)?a=[].concat(i(a),i(l)):a.push(l))}if(b)return o={isMatch:!0,score:d/b},m&&(o.indices=a),o}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(b,a){return a.useExtendedSearch}}]),d}(),l=[];function w(a,b){for(var c=0,e=l.length,d;c<e;c+=1)if(d=l[c],d.condition(a,b))return new d(a,b);return new x(a,b)}m="$and",C="$or",z="$path",K="$val",p=function(a){return!(!a[m]&&!a[C])},R=function(a){return!!a[z]},V=function(a){return!g(a)&&U(a)&&!p(a)},r=function(a){return t({},m,Object.keys(a).map(function(b){return t({},b,a[b])}))};function ak(c,d){var b=d.ignoreFieldNorm,e=void 0===b?a.ignoreFieldNorm:b;c.forEach(function(a){var b=1;a.matches.forEach(function(a){var c=a.key,g=a.norm,d=a.score,f=c?c.weight:null;b*=Math.pow(0===d&&f?Number.EPSILON:d,(f||1)*(e?1:g))}),a.score=b})}function al(c,a){var b=c.matches;a.matches=[],d(b)&&b.forEach(function(b){if(d(b.indices)&&b.indices.length){var c={indices:b.indices,value:b.value};b.key&&(c.key=b.key.src),b.idx>-1&&(c.refIndex=b.idx),a.matches.push(c)}})}function am(a,b){b.score=a.score}function an(f,i){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=c.includeMatches,g=void 0===d?a.includeMatches:d,e=c.includeScore,h=void 0===e?a.includeScore:e,b=[];return g&&b.push(al),h&&b.push(am),f.map(function(a){var c=a.idx,d={item:i[c],refIndex:c};return b.length&&b.forEach(function(b){b(a,d)}),d})}return k=function(){function e(c){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=arguments.length>2?arguments[2]:void 0;b(this,e),this.options=Z({},a,{},d),this.options.useExtendedSearch,this._keyStore=new I(this.options.keys),this.setCollection(c,f)}return c(e,[{key:"setCollection",value:function(b,a){if(this._docs=b,a&&!(a instanceof n))throw new Error("Incorrect 'index' type");this._myIndex=a||H(this.options.keys,this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(a){d(a)&&(this._docs.push(a),this._myIndex.add(a))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},b=[],a=0,c=this._docs.length,d;a<c;a+=1)d=this._docs[a],e(d,a)&&(this.removeAt(a),a-=1,c-=1,b.push(d));return b}},{key:"removeAt",value:function(a){this._docs.splice(a,1),this._myIndex.removeAt(a)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(c){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=g.limit,d=void 0===e?-1:e,a=this.options,h=a.includeMatches,i=a.includeScore,j=a.shouldSort,k=a.sortFn,l=a.ignoreFieldNorm,b=f(c)?f(this._docs[0])?this._searchStringList(c):this._searchObjectList(c):this._searchLogical(c);return ak(b,{ignoreFieldNorm:l}),j&&b.sort(k),W(d)&&d>-1&&(b=b.slice(0,d)),an(b,this._docs,{includeMatches:h,includeScore:i})}},{key:"_searchStringList",value:function(b){var c=w(b,this.options),e=this._myIndex.records,a=[];return e.forEach(function(e){var b=e.v,g=e.i,h=e.n,f,i,j,k;d(b)&&(f=c.searchIn(b),i=f.isMatch,j=f.score,k=f.indices,i&&a.push({item:b,idx:g,matches:[{score:j,value:b,norm:h,indices:k}]}))}),a}},{key:"_searchLogical",value:function(e){var b=this,h=function(a,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=d.auto,e=void 0===b||b,h=function j(a){var b=Object.keys(a),d=R(a),h,i,k,l;if(!d&&b.length>1&&!p(a))return j(r(a));if(V(a)){if(h=d?a[z]:b[0],i=d?a[K]:a[h],!f(i))throw new Error(M(h));return k={keyId:D(h),pattern:i},e&&(k.searcher=w(i,c)),k}return l={children:[],operator:b[0]},b.forEach(function(c){var b=a[c];g(b)&&b.forEach(function(a){l.children.push(j(a))})}),l};return p(a)||(a=r(a)),h(a)}(e,this.options),j=this._myIndex.records,a={},c=[];return j.forEach(function(g){var f=g.$,e=g.i,j;d(f)&&(j=function r(a,d,l){var k,p,h,c,f,o,n,e,g,q,j;if(!a.children)return k=a.keyId,p=a.searcher,h=b._findMatches({key:b._keyStore.get(k),value:b._myIndex.getValueForItemAtKeyId(d,k),searcher:p}),h&&h.length?[{idx:l,item:d,matches:h}]:[];switch(a.operator){case m:for(c=[],f=0,o=a.children.length;f<o;f+=1){if(n=r(a.children[f],d,l),!n.length)return[];c.push.apply(c,i(n))}return c;case C:for(e=[],g=0,q=a.children.length;g<q;g+=1)if(j=r(a.children[g],d,l),j.length){e.push.apply(e,i(j));break}return e}}(h,f,e),j.length&&(a[e]||(a[e]={idx:e,item:f,matches:[]},c.push(a[e])),j.forEach(function(c){var b,d=c.matches;(b=a[e].matches).push.apply(b,i(d))})))}),c}},{key:"_searchObjectList",value:function(h){var c=this,e=w(h,this.options),b=this._myIndex,f=b.keys,g=b.records,a=[];return g.forEach(function(h){var g=h.$,j=h.i,b;d(g)&&(b=[],f.forEach(function(a,d){b.push.apply(b,i(c._findMatches({key:a,value:g[d],searcher:e})))}),b.length&&a.push({idx:j,item:g,matches:b}))}),a}},{key:"_findMatches",value:function(b){var i=b.key,a=b.value,f=b.searcher,e,h,j,c,k,l,m;return d(a)?(e=[],g(a)?a.forEach(function(a){var b=a.v,g=a.i,h=a.n,c,j,k,l;d(b)&&(c=f.searchIn(b),j=c.isMatch,k=c.score,l=c.indices,j&&e.push({score:k,key:i,value:b,idx:g,norm:h,indices:l}))}):(h=a.v,j=a.n,c=f.searchIn(h),k=c.isMatch,l=c.score,m=c.indices,k&&e.push({score:l,key:i,value:h,norm:j,indices:m})),e):[]}}]),e}(),k.version="6.4.6",k.createIndex=H,k.parseIndex=function(d){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=e.getFn,f=void 0===c?a.getFn:c,g=d.keys,h=d.records,b=new n({getFn:f});return b.setKeys(g),b.setIndexRecords(h),b},k.config=a,function(){l.push.apply(l,arguments)}($),k},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Fuse=t(),!function(b,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],a):b.Mark=a(b.jQuery)}(this,function(a){"use strict";a=a&&a.hasOwnProperty("default")?a.default:a;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},e=function(){function a(d,c){for(var b=0,a;b<c.length;b++)a=c[b],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=Object.assign||function(d){for(var a=1,b,c;a<arguments.length;a++){b=arguments[a];for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d},c=function(){function a(b){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;d(this,a),this.ctx=b,this.iframes=c,this.exclude=e,this.iframesTimeout=f}return e(a,[{key:"getContexts",value:function(){var a=[];return(void 0!==this.ctx&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[]).forEach(function(b){var c=a.filter(function(a){return a.contains(b)}).length>0;-1!==a.indexOf(b)||c||a.push(b)}),a}},{key:"getIframeContents",value:function(c,d){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=void 0,b;try{if(b=c.contentWindow,a=b.document,!b||!a)throw new Error("iframe inaccessible")}catch(a){e()}a&&d(a)}},{key:"isIframeBlank",value:function(a){var b=a.getAttribute("src").trim();return"about:blank"===a.contentWindow.location.href&&"about:blank"!==b&&b}},{key:"observeIframeLoad",value:function(a,g,b){var c=this,d=!1,e=null,f=function f(){if(!d){d=!0,clearTimeout(e);try{c.isIframeBlank(a)||(a.removeEventListener("load",f),c.getIframeContents(a,g,b))}catch(a){b()}}};a.addEventListener("load",f),e=setTimeout(f,this.iframesTimeout)}},{key:"onIframeReady",value:function(a,c,b){try{"complete"===a.contentWindow.document.readyState?this.isIframeBlank(a)?this.observeIframeLoad(a,c,b):this.getIframeContents(a,c,b):this.observeIframeLoad(a,c,b)}catch(a){b()}}},{key:"waitForIframes",value:function(c,a){var d=this,b=0;this.forEachIframe(c,function(){return!0},function(c){b++,d.waitForIframes(c.querySelector("html"),function(){--b||a()})},function(b){b||a()})}},{key:"forEachIframe",value:function(h,i,j){var f=this,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},c=h.querySelectorAll("iframe"),d=c.length,e=0,b;c=Array.prototype.slice.call(c),b=function(){--d<=0&&g(e)},d||b(),c.forEach(function(c){a.matches(c,f.exclude)?b():f.onIframeReady(c,function(a){i(c)&&(e++,j(a)),b()},b)})}},{key:"createIterator",value:function(a,b,c){return document.createNodeIterator(a,b,c,!1)}},{key:"createInstanceOnIframe",value:function(b){return new a(b.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(c,a,b){if(c.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_PRECEDING){if(null===a)return!0;if(a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING)return!0}return!1}},{key:"getIteratorNode",value:function(a){var b=a.previousNode();return{prevNode:b,node:null===b?a.nextNode():a.nextNode()&&a.nextNode()}}},{key:"checkIframeFilter",value:function(e,f,b,c){var a=!1,d=!1;return c.forEach(function(c,e){c.val===b&&(a=e,d=c.handled)}),this.compareNodeIframe(e,f,b)?(!1!==a||d?!1===a||d||(c[a].handled=!0):c.push({val:b,handled:!0}),!0):(!1===a&&c.push({val:b,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(b,c,d,e){var a=this;b.forEach(function(b){b.handled||a.getIframeContents(b.val,function(b){a.createInstanceOnIframe(b).forEachNode(c,d,e)})})}},{key:"iterateThroughNodes",value:function(a,g,h,b,l){for(var d,e=this,k=this.createIterator(g,a,b),i=[],f=[],c=void 0,j=void 0;void 0,d=e.getIteratorNode(k),j=d.prevNode,c=d.node;)this.iframes&&this.forEachIframe(g,function(a){return e.checkIframeFilter(c,j,a,i)},function(c){e.createInstanceOnIframe(c).forEachNode(a,function(a){return f.push(a)},b)}),f.push(c);f.forEach(function(a){h(a)}),this.iframes&&this.handleOpenIframes(i,a,h,b),l()}},{key:"forEachNode",value:function(g,e,f){var a=this,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},d=this.getContexts(),b=d.length;b||c(),d.forEach(function(d){var h=function(){a.iterateThroughNodes(g,d,e,f,function(){--b<=0&&c()})};a.iframes?a.waitForIframes(d,h):h()})}}],[{key:"matches",value:function(a,b){var e="string"==typeof b?[b]:b,c=a.matches||a.matchesSelector||a.msMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector,d;return!!c&&(d=!1,e.every(function(b){return!c.call(a,b)||(d=!0,!1)}),d)}}]),a}(),b=function(){function a(c){d(this,a),this.ctx=c,this.ie=!1;var b=window.navigator.userAgent;(b.indexOf("MSIE")>-1||b.indexOf("Trident")>-1)&&(this.ie=!0)}return e(a,[{key:"log",value:function(c){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug",a=this.opt.log;this.opt.debug&&"object"===(void 0===a?"undefined":f(a))&&"function"==typeof a[b]&&a[b]("mark.js: "+c)}},{key:"escapeStr",value:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(a){return"disabled"!==this.opt.wildcards&&(a=this.setupWildcardsRegExp(a)),a=this.escapeStr(a),Object.keys(this.opt.synonyms).length&&(a=this.createSynonymsRegExp(a)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(a=this.setupIgnoreJoinersRegExp(a)),this.opt.diacritics&&(a=this.createDiacriticsRegExp(a)),a=this.createMergedBlanksRegExp(a),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(a=this.createJoinersRegExp(a)),"disabled"!==this.opt.wildcards&&(a=this.createWildcardsRegExp(a)),a=this.createAccuracyRegExp(a)}},{key:"createSynonymsRegExp",value:function(b){var c=this.opt.synonyms,h=this.opt.caseSensitive?"":"i",f=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"",a,g,d,e;for(a in c)c.hasOwnProperty(a)&&(g=c[a],d="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(a):this.escapeStr(a),e="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(g):this.escapeStr(g),""!==d&&""!==e&&(b=b.replace(new RegExp("("+this.escapeStr(d)+"|"+this.escapeStr(e)+")","gm"+h),f+"("+this.processSynomyms(d)+"|"+this.processSynomyms(e)+")"+f)));return b}},{key:"processSynomyms",value:function(a){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(a=this.setupIgnoreJoinersRegExp(a)),a}},{key:"setupWildcardsRegExp",value:function(a){return(a=a.replace(/(?:\\)*\?/g,function(a){return"\\"===a.charAt(0)?"?":""})).replace(/(?:\\)*\*/g,function(a){return"\\"===a.charAt(0)?"*":""})}},{key:"createWildcardsRegExp",value:function(b){var a="withSpaces"===this.opt.wildcards;return b.replace(/\u0001/g,a?"[\\S\\s]?":"\\S?").replace(/\u0002/g,a?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(a){return a.replace(/[^(|)\\]/g,function(a,c,d){var b=d.charAt(c+1);return/[(|)\\]/.test(b)||""===b?a:a+"\0"})}},{key:"createJoinersRegExp",value:function(c){var a=[],b=this.opt.ignorePunctuation;return Array.isArray(b)&&b.length&&a.push(this.escapeStr(b.join(""))),this.opt.ignoreJoiners&&a.push("\\u00ad\\u200b\\u200c\\u200d"),a.length?c.split(/\u0000+/).join("["+a.join("")+"]*"):c}},{key:"createDiacriticsRegExp",value:function(a){var c=this.opt.caseSensitive?"":"i",d=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"],b=[];return a.split("").forEach(function(e){d.every(function(d){if(-1!==d.indexOf(e)){if(b.indexOf(d)>-1)return!1;a=a.replace(new RegExp("["+d+"]","gm"+c),"["+d+"]"),b.push(d)}return!0})}),a}},{key:"createMergedBlanksRegExp",value:function(a){return a.replace(/[\s]+/gim,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(c){var d=this,b=this.opt.accuracy,e="string"==typeof b?b:b.value,a="";switch(("string"==typeof b?[]:b.limiters).forEach(function(b){a+="|"+d.escapeStr(b)}),e){case"partially":default:return"()("+c+")";case"complementary":return"()([^"+(a="\\s"+(a||this.escapeStr("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿")))+"]*"+c+"[^"+a+"]*)";case"exactly":return"(^|\\s"+a+")("+c+")(?=$|\\s"+a+")"}}},{key:"getSeparatedKeywords",value:function(b){var c=this,a=[];return b.forEach(function(b){c.opt.separateWordSearch?b.split(" ").forEach(function(b){b.trim()&&-1===a.indexOf(b)&&a.push(b)}):b.trim()&&-1===a.indexOf(b)&&a.push(b)}),{keywords:a.sort(function(a,b){return b.length-a.length}),length:a.length}}},{key:"isNumeric",value:function(a){return Number(parseFloat(a))==a}},{key:"checkRanges",value:function(a){var d=this,b,c;return!Array.isArray(a)||"[object Object]"!==Object.prototype.toString.call(a[0])?(this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(a),[]):(b=[],c=0,a.sort(function(a,b){return a.start-b.start}).forEach(function(a){var e=d.callNoMatchOnInvalidRanges(a,c),f=e.start,g=e.end;e.valid&&(a.start=f,a.length=g-f,b.push(a),c=g)}),b)}},{key:"callNoMatchOnInvalidRanges",value:function(a,e){var c=void 0,b=void 0,d=!1;return a&&void 0!==a.start?(b=(c=parseInt(a.start,10))+parseInt(a.length,10),this.isNumeric(a.start)&&this.isNumeric(a.length)&&b-e>0&&b-c>0?d=!0:(this.log("Ignoring invalid or overlapping range: "+JSON.stringify(a)),this.opt.noMatch(a))):(this.log("Ignoring invalid range: "+JSON.stringify(a)),this.opt.noMatch(a)),{start:c,end:b,valid:d}}},{key:"checkWhitespaceRanges",value:function(c,h,f){var d=void 0,e=!0,b=f.length,g=h-b,a=parseInt(c.start,10)-g;return(d=(a=a>b?b:a)+parseInt(c.length,10))>b&&(d=b,this.log("End range automatically set to the max value of "+b)),a<0||d-a<0||a>b||d>b?(e=!1,this.log("Invalid range: "+JSON.stringify(c)),this.opt.noMatch(c)):""===f.substring(a,d).replace(/\s+/g,"")&&(e=!1,this.log("Skipping whitespace only range: "+JSON.stringify(c)),this.opt.noMatch(c)),{start:a,end:d,valid:e}}},{key:"getTextNodes",value:function(c){var d=this,a="",b=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,function(c){b.push({start:a.length,end:(a+=c.textContent).length,node:c})},function(a){return d.matchesExclude(a.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},function(){c({value:a,nodes:b})})}},{key:"matchesExclude",value:function(a){return c.matches(a,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(g,c,d){var e=this.opt.element?this.opt.element:"mark",b=g.splitText(c),f=b.splitText(d-c),a=document.createElement(e);return a.setAttribute("data-markjs","true"),this.opt.className&&a.setAttribute("class",this.opt.className),a.textContent=b.textContent,b.parentNode.replaceChild(a,b),f}},{key:"wrapRangeInMappedTextNode",value:function(a,c,b,d,e){var f=this;a.nodes.every(function(g,i){var j=a.nodes[i+1],k,h,l,m;if(void 0===j||j.start>c){if(!d(g.node))return!1;if(k=c-g.start,h=(b>g.end?g.end:b)-g.start,l=a.value.substr(0,g.start),m=a.value.substr(h+g.start),g.node=f.wrapRangeInTextNode(g.node,k,h),a.value=l+m,a.nodes.forEach(function(c,b){b>=i&&(a.nodes[b].start>0&&b!==i&&(a.nodes[b].start-=h),a.nodes[b].end-=h)}),b-=h,e(g.node.previousSibling,g.start),!(b>g.end))return!1;c=g.end}return!0})}},{key:"wrapMatches",value:function(c,b,d,e,f){var g=this,a=0===b?0:b+1;this.getTextNodes(function(b){b.nodes.forEach(function(b){var f,h,i;b=b.node;for(f=void 0;null!==(f=c.exec(b.textContent))&&""!==f[a];)if(d(f[a],b)){if(h=f.index,0!==a)for(i=1;i<a;i++)h+=f[i].length;b=g.wrapRangeInTextNode(b,h,h+f[a].length),e(b.previousSibling),c.lastIndex=0}}),f()})}},{key:"wrapMatchesAcrossElements",value:function(c,b,d,e,f){var g=this,a=0===b?0:b+1;this.getTextNodes(function(j){for(var b=void 0,h,i,k;null!==(b=c.exec(j.value))&&""!==b[a];){if(h=b.index,0!==a)for(i=1;i<a;i++)h+=b[i].length;k=h+b[a].length,g.wrapRangeInMappedTextNode(j,h,k,function(c){return d(b[a],c)},function(a,b){c.lastIndex=b,e(a)})}f()})}},{key:"wrapRangeFromIndex",value:function(b,c,d,e){var a=this;this.getTextNodes(function(f){var g=f.value.length;b.forEach(function(b,j){var e=a.checkWhitespaceRanges(b,g,f.value),h=e.start,i=e.end;e.valid&&a.wrapRangeInMappedTextNode(f,h,i,function(a){return c(a,b,f.value.substring(h,i),j)},function(a){d(a,b)})}),e()})}},{key:"unwrapMatches",value:function(a){for(var b=a.parentNode,c=document.createDocumentFragment();a.firstChild;)c.appendChild(a.removeChild(a.firstChild));b.replaceChild(c,a),this.ie?this.normalizeTextNode(b):b.normalize()}},{key:"normalizeTextNode",value:function(a){if(a){if(3===a.nodeType)for(;a.nextSibling&&3===a.nextSibling.nodeType;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);else this.normalizeTextNode(a.firstChild);this.normalizeTextNode(a.nextSibling)}}},{key:"markRegExp",value:function(c,e){var a=this,b,d;this.opt=e,this.log('Searching with expression "'+c+'"'),b=0,d="wrapMatches",this.opt.acrossElements&&(d="wrapMatchesAcrossElements"),this[d](c,this.opt.ignoreGroups,function(c,d){return a.opt.filter(d,c,b)},function(c){b++,a.opt.each(c)},function(){0===b&&a.opt.noMatch(c),a.opt.done(b)})}},{key:"mark",value:function(d,h){var a=this,c,f,g,b,e,i;this.opt=h,c=0,f="wrapMatches",g=this.getSeparatedKeywords("string"==typeof d?[d]:d),b=g.keywords,e=g.length,i=this.opt.caseSensitive?"":"i",this.opt.acrossElements&&(f="wrapMatchesAcrossElements"),0===e?this.opt.done(c):function j(d){var h=new RegExp(a.createRegExp(d),"gm"+i),g=0;a.log('Searching with expression "'+h+'"'),a[f](h,1,function(e,b){return a.opt.filter(b,d,c,g)},function(b){g++,c++,a.opt.each(b)},function(){0===g&&a.opt.noMatch(d),b[e-1]===d?a.opt.done(c):j(b[b.indexOf(d)+1])})}(b[0])}},{key:"markRanges",value:function(d,e){var b=this,c,a;this.opt=e,c=0,a=this.checkRanges(d),a&&a.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(a)),this.wrapRangeFromIndex(a,function(a,c,d,e){return b.opt.filter(a,c,d,e)},function(a,d){c++,b.opt.each(a,d)},function(){b.opt.done(c)})):this.opt.done(c)}},{key:"unmark",value:function(d){var b=this,a;this.opt=d,a=this.opt.element?this.opt.element:"*",a+="[data-markjs]",this.opt.className&&(a+="."+this.opt.className),this.log('Removal selector "'+a+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,function(a){b.unwrapMatches(a)},function(d){var e=c.matches(d,a),f=b.matchesExclude(d);return!e||f?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},this.opt.done)}},{key:"opt",set:function(a){this._opt=g({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},a)},get:function(){return this._opt}},{key:"iterator",get:function(){return new c(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),a}();return a.fn.mark=function(a,c){return new b(this.get()).mark(a,c),this},a.fn.markRegExp=function(a,c){return new b(this.get()).markRegExp(a,c),this},a.fn.markRanges=function(a,c){return new b(this.get()).markRanges(a,c),this},a.fn.unmark=function(a){return new b(this.get()).unmark(a),this},a}),summaryInclude=60,fuseOptions={shouldSort:!0,includeMatches:!0,threshold:0,tokenize:!0,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"title",weight:.8},{name:"contents",weight:.5},{name:"tags",weight:.3},{name:"categories",weight:.3}]},searchQuery=param("s"),searchQuery&&($("#search-query").val(searchQuery),executeSearch(searchQuery));function executeSearch(a){$.getJSON(indexURL,function(c){var d=c,e=new Fuse(d,fuseOptions),b=e.search(a);console.log({matches:b}),b.length>0?populateResults(b):$('#search-results').append('<div class="text-center"><img class="img-fluid mb-5" src="https://user-images.githubusercontent.com/37659754/64060567-7cece400-cbf0-11e9-9cf9-abac3543ec1f.png"><h3>No Search Found</h3></div>')})}function populateResults(a){$.each(a,function(e,a){var b=a.item.contents,c="",d=[],h=[],f,g;fuseOptions.tokenize?d.push(searchQuery):$.each(a.matches,function(e,a){a.key=="tags"||a.key=="categories"?d.push(a.value):a.key=="contents"&&(start=a.indices[0][0]-summaryInclude>0?a.indices[0][0]-summaryInclude:0,end=a.indices[0][1]+summaryInclude<b.length?a.indices[0][1]+summaryInclude:b.length,c+=b.substring(start,end),d.push(a.value.substring(a.indices[0][0],a.indices[0][1]-a.indices[0][0]+1)))}),c.length<1&&(c+=b.substring(0,summaryInclude*2)),f=$('#search-result-template').html(),g=render(f,{key:e,title:a.item.title,link:a.item.permalink,tags:a.item.tags,categories:a.item.categories,snippet:c}),$('#search-results').append(g),$.each(d,function(b,a){$("#summary-"+e).mark(a)})})}function param(a){return decodeURIComponent((location.search.split(a+'=')[1]||'').split('&')[0]).replace(/\+/g,' ')}function render(a,d){for(var f=/\$\{\s*isset ([a-zA-Z]*) \s*\}(.*)\$\{\s*end\s*}/g,b=a,c,e,g,h;(c=f.exec(a))!==null;)d[c[1]]?b=b.replace(c[0],c[2]):b=b.replace(c[0],'');a=b;for(e in d)g='\\$\\{\\s*'+e+'\\s*\\}',h=new RegExp(g,'g'),a=a.replace(h,d[e]);return a}